<?php

  function cipher_menu() {
    $items['cipher'] = array(
      'title' => 'Cipher',
      'page callback' => 'drupal_get_form',
      'page arguments' => array('cipher_form'),
      'access callback' => TRUE,
      'type' => MENU_NORMAL_ITEM,
    );
    $items['cipher_success'] = array(
      'title' => 'Your Results:',
      'page callback' => 'cipher_results',
      'access callback' => TRUE,
      'type' => MENU_CALLBACK,
    );
    return $items;
  };

  function cipher_form() {
    $form['phrase'] = array(
      '#title' => 'Phrase',
      '#type' => 'textfield',
      '#description' => t('Add a word or phrase you would like to encrypt'),
    );
    $form['value'] = array(
      '#title' => 'Shift Value',
      '#type' => 'textfield',
      '#description' => t('How many spaces in the alphabet would you like each letter to shift?'),
    );
    $form['direction'] = array(
      '#title' => 'Shift Direction',
      '#type' => 'textfield',
      '#description' => t('Which direction in the alphabet would you like each letter to shift?'),
    );
    $form['submit'] = array(
      '#type' => 'submit',
      '#value' => 'Encrypt!',
    );
    return $form;
  }

  function cipher_form_submit($form, &$form_state) {
    $_SESSION['phrase'] = $form_state['values']['phrase'];
    $_SESSION['value'] = $form_state['values']['value'];
    $_SESSION['direction'] = $form_state['values']['direction'];
    $form_state['redirect'] = 'cipher_success';
  }

  function cipher_results() {
    $phrase = $_SESSION['phrase'];
    $value = $_SESSION['value'];
    $direction = $_SESSION['direction'];
    return '<p>phrase is ' . $phrase . '</p><p>value is ' . $value . '</p><p>direction is ' . $direction;
  }
